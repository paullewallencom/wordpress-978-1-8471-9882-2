import fl.transitions.Tween;import fl.transitions.easing.*;import fl.transitions.TweenEvent;var speed:Number;var total:Number;var pics:XMLList;var loadersArray:Array=[];var loadCounter:Number=0;var playCounter:Number=0;var slideshow:Sprite = new Sprite();var picSlides:Sprite = new Sprite();var timer:Timer;var prevTween:Tween;var tweenArray:Array=[];var xml_loader:URLLoader = new URLLoader();xml_loader.load(new URLRequest("slideshow1.xml"));xml_loader.addEventListener(Event.COMPLETE, processXML);function processXML(event:Event):void {	var xml:XML=new XML(event.target.data);	speed=xml.@Speed;	pics=xml.image;	total=pics.length();	loadImages();	xml_loader.removeEventListener(Event.COMPLETE, processXML);	xml_loader=null;}function nextPic():void {	var pic:Loader=Loader(loadersArray[playCounter]);	picSlides.addChild(pic);	pic.x = (stage.stageWidth - pic.width)/2;	pic.y = (stage.stageHeight - pic.height)/2;	tweenArray[0]=new Tween(pic,"alpha",Strong.easeOut,0,1,3,true);}function onFadeOut(event:TweenEvent):void {	picSlides.removeChildAt(0);}function hidePrev():void {	var pic:Loader=Loader(picSlides.getChildAt(0));	prevTween=new Tween(pic,"alpha",Strong.easeOut,1,0,3,true);	prevTween.addEventListener(TweenEvent.MOTION_FINISH, onFadeOut);}function timerListener(event:TimerEvent):void {	hidePrev();	playCounter++;	if (playCounter==total) {		playCounter=0;	}	nextPic();}function startShow():void {	addChild(slideshow);	slideshow.addChild(picSlides);	nextPic();	timer=new Timer(speed*1000);	timer.addEventListener(TimerEvent.TIMER, timerListener);	timer.start();}function onComplete(event:Event):void {	loadCounter++;	if (loadCounter==total) {		startShow();	}	var loaderInfo:LoaderInfo=LoaderInfo(event.target);	loaderInfo.removeEventListener(Event.COMPLETE, onComplete);}function loadImages():void {	for (var i:Number = 0; i < total; i++) {		var url:String=pics[i].@picURL;		var loader:Loader = new Loader();		loader.load(new URLRequest(url));		loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onComplete);		loadersArray.push(loader);	}}